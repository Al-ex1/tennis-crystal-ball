apply plugin: 'com.github.ben-manes.versions'

buildscript {
	repositories {
		jcenter()
	}
	dependencies {
		classpath 'com.github.ben-manes:gradle-versions-plugin:0.12.0'
		classpath 'org.ajoberstar:gradle-git:1.4.2'
	}
}

allprojects {
	version = '0.9-SNAPSHOT'

	buildscript {
		repositories {
			mavenCentral()
		}
	}

	repositories {
		mavenCentral()
	}
}

ext {
	git = org.ajoberstar.grgit.Grgit.open()
	releaseVersion = releaseVersion version
}

task wrapper(type: Wrapper) {
	gradleVersion = '2.12'
}

def releaseVersion(version) {
	def SNAPSHOT_SUFFIX = '-SNAPSHOT'
	version.endsWith(SNAPSHOT_SUFFIX) ? version.substring(0, version.length() - SNAPSHOT_SUFFIX.length()) : version
}